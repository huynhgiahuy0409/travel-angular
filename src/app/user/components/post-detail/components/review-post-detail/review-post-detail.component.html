<div class="container" *ngIf="reviewPost$ | async as reviewPost">
  <div class="header box-shadow">
    <div class="cover-image-wrap">
      <img
        class="cover-image"
        [src]="
        directLinkService.directLinkImageURL +
        reviewPost.user.id +
        '/' +
        reviewPost.coverImage.name +
        '.' +
        reviewPost.coverImage.ext
        "
        alt=""
        />
      <div
        class="close-btn"
        style="position: absolute; right: 40px; top: 40px"
        (click)="onClickClose()">
        <i class="fa-solid fa-xmark"></i>
      </div>
      <div class="row no-gutters">
        <div class="col l-3 m-4 c-12">
          <div class="user-info">
            <div class="avatar d-flex align-items-center
              justify-content-center">
              <img
                [src]="
                directLinkService.directLinkImageURL +
                postUser.id +
                '/' +
                'avatar' +
                '/' +
                postUser.avatar.name +
                '.' +
                postUser.avatar.ext
                "
                alt=""
                *ngIf="postUser.avatar"
                />
              <img
                [src]="defaultAvatarUrl"
                alt=""
                *ngIf="!postUser.avatar"
                />
              <div class="title hide-on-mobile">
                <h1>{{ reviewPost.title }}</h1>
                <ul class="location-tag__list d-flex">
                  <li
                    class="location-tag__item d-flex"
                    *ngFor="let tag of reviewPost.reviewPostTags">
                    #{{ tag.name }}
                  </li>
                </ul>
              </div>
            </div>
            <div
              class="username d-flex align-items-center justify-content-center">
              <span>{{ reviewPost.user.fullName }}</span>
            </div>
          </div>
        </div>
        <div class="col l-9 m-8 c-0">
          <!-- <div class="row no-gutters justify-content-between align-item-center">
            <div
              class="follow-btn box-shadow d-flex align-items-center
              justify-content-center">
              <i
                style="margin-right: 10px"
                class="fa fa-rss xs:d-none"
                aria-hidden="true"></i>
              <span>Follow</span>
            </div>
          </div> -->
        </div>
      </div>
      <div class="row hide-on-pc hide-on-tablet hide-on-big-tablet">
        <div
          class="col l-0 m-0 c-12 d-flex align-item-center
          justify-content-center">
          <div class="title">
            <h1>
              {{ reviewPost.title }}
            </h1>
          </div>
        </div>
      </div>
    </div>
    <div class="main">
      <div class="grid wide">
        <div class="row">
          <div class="col l-12 m-12 c-12">
            <div class="header d-flex align-item-center
              justify-content-between">
              <ul class="step-location__list d-flex">
                <i class="fa-solid fa-map-pin d-flex align-items-center"></i>
                <li class="step-location__item">Châu á</li>
                <li class="step-location__item">Việt Nam</li>
                <li class="step-location__item" *ngIf="reviewPost.province">
                  {{ reviewPost.province.name }}
                </li>
                <li class="step-location__item" *ngIf="reviewPost.district">
                  {{
                  reviewPost.district.prefix + " " + reviewPost.district.name
                  }}
                </li>
              </ul>
              <ul class="action__list d-flex">
                <li class="action__item">
                  <i class="fa-regular fa-calendar mr-r-5"></i>
                  <span>{{
                    dateUtilsService.dateTimeFormula(reviewPost.createdDate)
                    }}</span>
                </li>
                <!-- <li class="action__item">
                  <i class="fa-regular fa-heart mr-r-5"></i>
                  <span>20</span>
                </li>
                <li class="action__item">
                  <i class="fa-solid fa-comment-dots mr-r-5"></i>
                  <span>20</span>
                </li>
                <li class="action__item">
                  <i class="fa-solid fa-share"></i>
                </li> -->
              </ul>
            </div>
            <div class="content__list">
              <div class="content__item">
                <div class="content__bio box-shadow">
                  {{ reviewPost.bio }}
                </div>
              </div>
              <div class="content__item">
                <div class="content__detail">
                  {{ reviewPost.content }}
                </div>
              </div>
              <div class="content__item">
                <h4 class="content__title">Video</h4>
              </div>
              <div class="content__item">
                <h4 class="content__title">Hình ảnh</h4>
                <!------ Sorting display images ------>
                <app-review-post-image-list
                  [reviewPostImages]="reviewPost.images"
                  [postUserId]="reviewPost.user.id">
                </app-review-post-image-list>
              </div>

              <div
                class="content__item"
                *ngIf="authorReviewPosts$ | async as authorReviewPosts">
                <h4 class="content__title">Bài viết cùng tác giả mới nhất</h4>
                <div class="grid">
                  <div class="row">
                    <div class="col l-3 m-6 c-6" *ngFor="let authorReviewPost of
                      authorReviewPosts">
                      <app-author-review-post-item
                        [authorReviewPost]="authorReviewPost"></app-author-review-post-item>
                    </div>
                  </div>
                </div>
              </div>

              <div class="content__item">
                <h4 class="content__title">Bài viết liên quan</h4>
                <div
                  class="grid"
                  *ngIf="relativeReviewPosts$ | async as relativeReviewPosts">
                  <div class="row no-gutters relative-post__list">
                    <div
                      class="col l-12 m-12 c-12 relative-post__item box-shadow
                      p-0 border-radius-5"
                      *ngFor="let relativeReviewPost of relativeReviewPosts"
                      [routerLink]="['/home/review-posts',
                      relativeReviewPost.id]">
                      <div class="row h-fit no-gutters">
                        <div class="col l-3 m-6 c-6 h-fit">
                          <img
                            class="relative-post__thumbnail"
                            [src]="
                            directLinkService.directLinkImageURL +
                            relativeReviewPost.user.id +
                            '/' +
                            relativeReviewPost.coverImage.name +
                            '.' +
                            relativeReviewPost.coverImage.ext
                            "
                            alt=""
                            *ngIf="relativeReviewPost.coverImage"
                            />
                        </div>
                        <div class="col l-9 m-6 c-6 relative-post">
                          <div class="relative-post__content">
                            <div class="relative-post__title">
                              {{ relativeReviewPost.title }}
                            </div>
                            <div class="relative-post__bio">
                              {{ relativeReviewPost.title }}
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="content__item">
                <header class="header text-center">
                  <h4>Đánh giá độ hữu ích của bài viết</h4>
                </header>
                <section class="rating-widget">
                  <!-- Rating Stars Box -->
                  <div class="rating-stars text-center">
                    <ul #starsTemplateRef id="stars">
                      <li class="star" title="Poor" data-value="1">
                        <i class="fa fa-star fa-fw"></i>
                      </li>
                      <li class="star" title="Fair" data-value="2">
                        <i class="fa fa-star fa-fw"></i>
                      </li>
                      <li class="star" title="Good" data-value="3">
                        <i class="fa fa-star fa-fw"></i>
                      </li>
                      <li class="star" title="Excellent" data-value="4">
                        <i class="fa fa-star fa-fw"></i>
                      </li>
                      <li class="star" title="WOW!!!" data-value="5">
                        <i class="fa fa-star fa-fw"></i>
                      </li>
                    </ul>
                  </div>

                  <div class="success-box">
                    <div class="clearfix"></div>
                    <img
                      alt="tick image"
                      width="32"
                      src="data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTkuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeD0iMHB4IiB5PSIwcHgiIHZpZXdCb3g9IjAgMCA0MjYuNjY3IDQyNi42NjciIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQyNi42NjcgNDI2LjY2NzsiIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSI1MTJweCIgaGVpZ2h0PSI1MTJweCI+CjxwYXRoIHN0eWxlPSJmaWxsOiM2QUMyNTk7IiBkPSJNMjEzLjMzMywwQzk1LjUxOCwwLDAsOTUuNTE0LDAsMjEzLjMzM3M5NS41MTgsMjEzLjMzMywyMTMuMzMzLDIxMy4zMzMgIGMxMTcuODI4LDAsMjEzLjMzMy05NS41MTQsMjEzLjMzMy0yMTMuMzMzUzMzMS4xNTcsMCwyMTMuMzMzLDB6IE0xNzQuMTk5LDMyMi45MThsLTkzLjkzNS05My45MzFsMzEuMzA5LTMxLjMwOWw2Mi42MjYsNjIuNjIyICBsMTQwLjg5NC0xNDAuODk4bDMxLjMwOSwzMS4zMDlMMTc0LjE5OSwzMjIuOTE4eiIvPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8L3N2Zz4K"
                      />
                    <div class="text-message"></div>
                    <div class="clearfix"></div>
                  </div>
                </section>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <i class="fa-solid fa-xmark" style="font-size: 2rem; color: white"></i>
  </div>
</div>

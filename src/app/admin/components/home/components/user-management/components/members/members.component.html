<div class="container" infinite-scroll [scrollWindow]="false" (scrolled)="onScrollDown($event)"
[infiniteScrollThrottle]="1" *ngIf="(users$ | async) as users">
    <div class="grid wide" style="padding: 10px">
        <div class="user-group__list box-shadow">
            <div class="user-group__item">
                <div class="title">
                    Thành viên
                    <span> · {{ users[4] }}</span>
                </div>
                <div class="sub-title">
                    Người tham gia nhóm này sẽ hiển thị tại đây
                    <a> Tìm hiểu thêm</a>
                </div>
                <div class="search-box">
                    <img src="assets/image/search.png" alt="" />
                    <input type="text" placeholder="Tìm kiếm thành viên" [formControl]="searchCtrl"/>
                </div>
            </div>
            <div class="user-group__list" *ngIf="searchUsers.length === 0">
                <div class="user-group__item">
                    <app-user-profile [user]=currUser></app-user-profile>
                </div>
                <div class="user-group__item">
                    <div class="title">
                        Quản trị viên
                        <span>  · {{users[1]}}</span>
                    </div>
                    <div class="user-profile__list">
                        <div class="user-profile__item" *ngFor="let admin of users[0]">
                            <app-user-profile [user]=admin *ngIf="admin.role.name === 'ROLE_ADMIN' && admin.active === 1"></app-user-profile>
                        </div>
                    </div>
                    <button mat-button class="w-fit" [routerLink]="['/administrator/home/user-management/admins']">
                        Xem tất cả
                    </button>
                </div>
                <div class="user-group__item">
                    <div class="title">
                        Người kiểm duyệt
                        <span>  · {{users[3]}}</span>
                    </div>
                    <div class="user-profile__list">
                        <div class="user-profile__item" *ngFor="let censor of users[2]">
                            <app-user-profile [user]=censor *ngIf="censor.role.name === 'ROLE_CENSOR' && censor.active === 1"></app-user-profile>
                        </div>
                    </div>
                    <button mat-button class="w-fit"  [routerLink]="['/administrator/home/user-management/censors']">
                        Xem tất cả
                    </button>
                </div>
            </div>
            <div class="user-group__list" *ngIf="searchUsers.length > 0">
                <div class="user-group__item">
                    <div class="title">
                        Kết quả tìm kiếm
                    </div>
                    <div class="user-profile__list">
                        <div class="user-profile__item" *ngFor="let searchUser of searchUsers">
                            <app-user-profile [user]=searchUser *ngIf="searchUser.active === 1"></app-user-profile>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{"ast":null,"code":"import { Validators, FormGroup, FormBuilder } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"src/app/user/services/auth.service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"src/app/user/services/progress-bar.service\";\nimport * as i6 from \"ngx-cookie-service\";\nimport * as i7 from \"@angular/common\";\nimport * as i8 from \"@angular/material/button\";\nimport * as i9 from \"@angular/material/radio\";\nimport * as i10 from \"@angular/material/form-field\";\nimport * as i11 from \"@angular/material/input\";\nimport * as i12 from \"@angular/material/datepicker\";\nimport * as i13 from \"@angular/material/progress-bar\";\n\nfunction RegisterDialogComponent_mat_error_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Kh\\u00F4ng th\\u1EC3 b\\u1ECF tr\\u1ED1ng \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RegisterDialogComponent_mat_error_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Kh\\u00F4ng th\\u1EC3 b\\u1ECF tr\\u1ED1ng \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RegisterDialogComponent_mat_error_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Kh\\u00F4ng th\\u1EC3 b\\u1ECF tr\\u1ED1ng \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RegisterDialogComponent_mat_error_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" T\\u00E0i kho\\u1EA3n kh\\u00F4ng h\\u1EE3p l\\u1EC7. V\\u00ED d\\u1EE5: nguyenvana@gmail.com \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RegisterDialogComponent_mat_error_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" T\\u00E0i kho\\u1EA3n ph\\u1EA3i t\\u1ED1i thi\\u1EBFu 6 k\\u00ED t\\u1EF1 \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RegisterDialogComponent_mat_error_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Kh\\u00F4ng th\\u1EC3 b\\u1ECF tr\\u1ED1ng \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RegisterDialogComponent_mat_error_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" M\\u1EADt kh\\u1EA9u ph\\u1EA3i t\\u1ED1i thi\\u1EBFu 6 k\\u00ED t\\u1EF1 \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RegisterDialogComponent_mat_error_52_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Kh\\u00F4ng th\\u1EC3 b\\u1ECF tr\\u1ED1ng \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RegisterDialogComponent_mat_progress_bar_75_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-progress-bar\", 32);\n  }\n}\n\nconst _c0 = function () {\n  return [\"firstName\"];\n};\n\nconst _c1 = function () {\n  return [\"lastName\"];\n};\n\nconst _c2 = function () {\n  return [\"email\"];\n};\n\nconst _c3 = function () {\n  return [\"password\"];\n};\n\nconst _c4 = function () {\n  return [\"dateOfBirth\"];\n};\n\nexport class RegisterDialogComponent {\n  constructor(dialogRef, fb, authService, router, progressBarService, cookieService) {\n    this.dialogRef = dialogRef;\n    this.fb = fb;\n    this.authService = authService;\n    this.router = router;\n    this.progressBarService = progressBarService;\n    this.cookieService = cookieService;\n    this.registerFormGroup = fb.group({\n      firstName: ['', [Validators.required]],\n      lastName: ['', Validators.required],\n      email: ['', [Validators.required, Validators.minLength(6), Validators.email]],\n      password: ['', [Validators.required, Validators.minLength(6)]],\n      dateOfBirth: ['', Validators.required],\n      gender: ['', Validators.required]\n    });\n    this.registerFormGroup.valueChanges.subscribe(v => console.log(v));\n  }\n\n  onClickRegister() {\n    this.progressBarService.progressBarBSub.next(true);\n    let registerRequest = this.registerFormGroup.value;\n    registerRequest.username = this.registerFormGroup.value.email;\n    this.authService.register(registerRequest).subscribe(response => {\n      console.log(response);\n      this.progressBarService.progressBarBSub.next(false);\n\n      if (response.status === 200) {\n        this.dialogRef.close();\n        this.router.navigate(['/confirmemail'], {\n          queryParams: {\n            sPath: 'user-login'\n          }\n        });\n        this.cookieService.set(\"c-user\", response.data);\n      } else if (response.status === 409) {\n        console.log(response);\n      }\n    }, error => {\n      this.progressBarService.progressBarBSub.next(false);\n    });\n  }\n\n}\n\nRegisterDialogComponent.ɵfac = function RegisterDialogComponent_Factory(t) {\n  return new (t || RegisterDialogComponent)(i0.ɵɵdirectiveInject(i1.MatDialogRef), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.AuthService), i0.ɵɵdirectiveInject(i4.Router), i0.ɵɵdirectiveInject(i5.ProgressBarService), i0.ɵɵdirectiveInject(i6.CookieService));\n};\n\nRegisterDialogComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: RegisterDialogComponent,\n  selectors: [[\"app-register-dialog\"]],\n  decls: 77,\n  vars: 23,\n  consts: [[1, \"row\", \"no-gutters\", \"justify-content-between\"], [\"mat-dialog-title\", \"\"], [1, \"fa-solid\", \"fa-xmark\"], [\"mat-dialog-content\", \"\"], [3, \"formGroup\"], [1, \"row\"], [1, \"col\", \"l-6\"], [\"appearance\", \"fill\", 1, \"full-width\"], [\"matInput\", \"\", \"placeholder\", \"Ex. Huynh\", \"formControlName\", \"firstName\", \"required\", \"\"], [4, \"ngIf\"], [\"matInput\", \"\", \"placeholder\", \"Ex. Gia Huy\", \"formControlName\", \"lastName\", \"required\", \"\"], [1, \"col\", \"l-12\"], [\"type\", \"email\", \"matInput\", \"\", \"placeholder\", \"huynhgiahuy492@gmail.com\", \"formControlName\", \"email\", \"required\", \"\"], [\"type\", \"password\", \"matInput\", \"\", \"formControlName\", \"password\"], [\"matInput\", \"\", \"formControlName\", \"dateOfBirth\", 3, \"matDatepicker\"], [\"matSuffix\", \"\", 3, \"for\"], [\"datepicker\", \"\"], [\"mat-button\", \"\", \"matDatepickerCancel\", \"\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", \"matDatepickerApply\", \"\"], [\"formControlName\", \"gender\", 1, \"sex\", \"standard__list\"], [1, \"standard__item\", \"flex-fit\", \"col\", \"sex-wrap\", \"d-flex\", \"align-items-center\", \"justify-content-between\"], [\"value\", \"MALE\"], [1, \"standard__item\", \"flex-fit\", \"col\", \"sex-wrap\", \"d-flex\", \"align-items-center\", \"justify-content-between\", 2, \"margin\", \"0 auto\"], [\"value\", \"FEMALE\"], [\"value\", \"UNDEFINED\"], [1, \"row\", \"no-gutters\"], [2, \"font-size\", \"1.2rem\"], [2, \"color\", \"var(--primary-color--)\"], [\"mat-dialog-actions\", \"\", 1, \"row\", \"no-gutters\", \"justify-content-center\", \"align-item-center\"], [\"mat-button\", \"\", 1, \"register-btn\", \"col\", \"l-6\", \"l-o-3\", 3, \"disabled\", \"click\"], [\"registerBtnRef\", \"\"], [\"mode\", \"indeterminate\", 4, \"ngIf\"], [\"mode\", \"indeterminate\"]],\n  template: function RegisterDialogComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\", 1);\n      i0.ɵɵtext(2, \"\\u0110\\u0103ng k\\u00ED\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(3, \"i\", 2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\", 3)(5, \"form\", 4)(6, \"div\", 5)(7, \"div\", 6)(8, \"mat-form-field\", 7)(9, \"mat-label\");\n      i0.ɵɵtext(10, \"H\\u1ECD\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(11, \"input\", 8);\n      i0.ɵɵtemplate(12, RegisterDialogComponent_mat_error_12_Template, 2, 0, \"mat-error\", 9);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(13, \"div\", 6)(14, \"mat-form-field\", 7)(15, \"mat-label\");\n      i0.ɵɵtext(16, \"T\\u00EAn\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(17, \"input\", 10);\n      i0.ɵɵtemplate(18, RegisterDialogComponent_mat_error_18_Template, 2, 0, \"mat-error\", 9);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(19, \"div\", 5)(20, \"div\", 11)(21, \"mat-form-field\", 7)(22, \"mat-label\");\n      i0.ɵɵtext(23, \"Email\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(24, \"input\", 12);\n      i0.ɵɵtemplate(25, RegisterDialogComponent_mat_error_25_Template, 2, 0, \"mat-error\", 9);\n      i0.ɵɵtemplate(26, RegisterDialogComponent_mat_error_26_Template, 2, 0, \"mat-error\", 9);\n      i0.ɵɵtemplate(27, RegisterDialogComponent_mat_error_27_Template, 2, 0, \"mat-error\", 9);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(28, \"div\", 5)(29, \"div\", 11)(30, \"mat-form-field\", 7)(31, \"mat-label\");\n      i0.ɵɵtext(32, \"M\\u1EADt kh\\u1EA9u m\\u1EDBi\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(33, \"input\", 13);\n      i0.ɵɵtemplate(34, RegisterDialogComponent_mat_error_34_Template, 2, 0, \"mat-error\", 9);\n      i0.ɵɵtemplate(35, RegisterDialogComponent_mat_error_35_Template, 2, 0, \"mat-error\", 9);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(36, \"div\", 5)(37, \"div\", 11)(38, \"mat-form-field\", 7)(39, \"mat-label\");\n      i0.ɵɵtext(40, \"Ch\\u1ECDn ng\\u00E0y sinh\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(41, \"input\", 14);\n      i0.ɵɵelementStart(42, \"mat-hint\");\n      i0.ɵɵtext(43, \"MM/DD/YYYY\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(44, \"mat-datepicker-toggle\", 15);\n      i0.ɵɵelementStart(45, \"mat-datepicker\", null, 16)(47, \"mat-datepicker-actions\")(48, \"button\", 17);\n      i0.ɵɵtext(49, \"Cancel\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(50, \"button\", 18);\n      i0.ɵɵtext(51, \"Apply\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵtemplate(52, RegisterDialogComponent_mat_error_52_Template, 2, 0, \"mat-error\", 9);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(53, \"mat-radio-group\", 19)(54, \"div\", 20)(55, \"mat-radio-button\", 21);\n      i0.ɵɵtext(56, \" Nam \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(57, \"div\", 22)(58, \"mat-radio-button\", 23);\n      i0.ɵɵtext(59, \" N\\u1EEF \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(60, \"div\", 20)(61, \"mat-radio-button\", 24);\n      i0.ɵɵtext(62, \" Kh\\u00F4ng x\\u00E1c \\u0111\\u1ECBnh \");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(63, \"div\", 25)(64, \"div\", 11)(65, \"span\", 26);\n      i0.ɵɵtext(66, \" Nh\\u1EEFng ng\\u01B0\\u1EDDi s\\u1EED d\\u1EE5ng d\\u1ECBch v\\u1EE5 c\\u1EE7a ch\\u00FAng t\\u00F4i c\\u00F3 th\\u1EC3 \\u0111\\u00E3 t\\u1EA3i th\\u00F4ng tin li\\u00EAn h\\u1EC7 c\\u1EE7a b\\u1EA1n l\\u00EAn Travel. \");\n      i0.ɵɵelementStart(67, \"span\", 27);\n      i0.ɵɵtext(68, \"T\\u00ECm hi\\u1EC3u th\\u00EAm.\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(69, \"br\");\n      i0.ɵɵtext(70, \" B\\u1EB1ng c\\u00E1ch nh\\u1EA5p v\\u00E0o \\u0110\\u0103ng k\\u00FD, b\\u1EA1n \\u0111\\u1ED3ng \\u00FD v\\u1EDBi \\u0110i\\u1EC1u kho\\u1EA3n, Ch\\u00EDnh s\\u00E1ch D\\u1EEF li\\u1EC7u v\\u00E0 Ch\\u00EDnh s\\u00E1ch Cookie c\\u1EE7a ch\\u00FAng t\\u00F4i. B\\u1EA1n c\\u00F3 th\\u1EC3 nh\\u1EADn \\u0111\\u01B0\\u1EE3c th\\u00F4ng b\\u00E1o SMS t\\u1EEB ch\\u00FAng t\\u00F4i v\\u00E0 c\\u00F3 th\\u1EC3 ch\\u1ECDn kh\\u00F4ng tham gia b\\u1EA5t k\\u1EF3 l\\u00FAc n\\u00E0o. \");\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵelementStart(71, \"div\", 28)(72, \"button\", 29, 30);\n      i0.ɵɵlistener(\"click\", function RegisterDialogComponent_Template_button_click_72_listener() {\n        return ctx.onClickRegister();\n      });\n      i0.ɵɵtext(74, \"\\u0110\\u0103ng k\\u00ED\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(75, RegisterDialogComponent_mat_progress_bar_75_Template, 1, 0, \"mat-progress-bar\", 31);\n      i0.ɵɵpipe(76, \"async\");\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      const _r7 = i0.ɵɵreference(46);\n\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"formGroup\", ctx.registerFormGroup);\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngIf\", ctx.registerFormGroup.hasError(\"required\", i0.ɵɵpureFunction0(15, _c0)));\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngIf\", ctx.registerFormGroup.hasError(\"required\", i0.ɵɵpureFunction0(16, _c1)));\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngIf\", ctx.registerFormGroup.hasError(\"required\", i0.ɵɵpureFunction0(17, _c2)));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.registerFormGroup.hasError(\"email\", i0.ɵɵpureFunction0(18, _c2)));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.registerFormGroup.hasError(\"minLength\", i0.ɵɵpureFunction0(19, _c2)));\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngIf\", ctx.registerFormGroup.hasError(\"required\", i0.ɵɵpureFunction0(20, _c3)));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.registerFormGroup.hasError(\"minlength\", i0.ɵɵpureFunction0(21, _c3)));\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"matDatepicker\", _r7);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"for\", _r7);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngIf\", ctx.registerFormGroup.hasError(\"required\", i0.ɵɵpureFunction0(22, _c4)));\n      i0.ɵɵadvance(20);\n      i0.ɵɵproperty(\"disabled\", ctx.registerFormGroup.invalid);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(76, 13, ctx.progressBarService.progressBar$));\n    }\n  },\n  dependencies: [i7.NgIf, i8.MatButton, i1.MatDialogTitle, i1.MatDialogContent, i1.MatDialogActions, i9.MatRadioGroup, i9.MatRadioButton, i10.MatError, i10.MatFormField, i10.MatHint, i10.MatLabel, i10.MatSuffix, i11.MatInput, i12.MatDatepicker, i12.MatDatepickerInput, i12.MatDatepickerToggle, i12.MatDatepickerActions, i12.MatDatepickerCancel, i12.MatDatepickerApply, i13.MatProgressBar, i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.RequiredValidator, i2.FormGroupDirective, i2.FormControlName, i7.AsyncPipe],\n  styles: [\".register-btn[_ngcontent-%COMP%] {\\n  background-color: var(--primary-color--);\\n  color: #fff;\\n}\\n\\n.sex[_ngcontent-%COMP%] {\\n  margin: 10px 0;\\n}\\n\\n.sex-wrap[_ngcontent-%COMP%] {\\n  border-radius: 10px;\\n  border: 1px solid #ccc;\\n  padding: 5px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlZ2lzdGVyLWRpYWxvZy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLHdDQUFBO0VBQ0EsV0FBQTtBQUNKOztBQUNBO0VBQ0ksY0FBQTtBQUVKOztBQUFBO0VBQ0ksbUJBQUE7RUFDQSxzQkFBQTtFQUNBLFlBQUE7QUFHSiIsImZpbGUiOiJyZWdpc3Rlci1kaWFsb2cuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIucmVnaXN0ZXItYnRue1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tcHJpbWFyeS1jb2xvci0tKTtcclxuICAgIGNvbG9yOiAjZmZmO1xyXG59XHJcbi5zZXh7XHJcbiAgICBtYXJnaW46IDEwcHggMFxyXG59XHJcbi5zZXgtd3JhcHtcclxuICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xyXG4gICAgcGFkZGluZzogNXB4XHJcbn0iXX0= */\"]\n});","map":{"version":3,"mappings":"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","names":["Validators","FormGroup","FormBuilder","i0","RegisterDialogComponent","constructor","dialogRef","fb","authService","router","progressBarService","cookieService","registerFormGroup","group","firstName","required","lastName","email","minLength","password","dateOfBirth","gender","valueChanges","subscribe","v","console","log","onClickRegister","progressBarBSub","next","registerRequest","value","username","register","response","status","close","navigate","queryParams","sPath","set","data","error","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["E:\\Angular\\Travel-DATN\\travel-angular\\src\\app\\components\\register-dialog\\register-dialog.component.ts","E:\\Angular\\Travel-DATN\\travel-angular\\src\\app\\components\\register-dialog\\register-dialog.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport {\r\n  Validators,\r\n  AbstractControl,\r\n  FormGroup,\r\n  FormBuilder,\r\n} from '@angular/forms';\r\nimport { MatDialogRef } from '@angular/material/dialog';\r\nimport { Router } from '@angular/router';\r\nimport { RegisterRequest } from 'src/app/shared/models/request';\r\nimport { AuthService } from 'src/app/user/services/auth.service';\r\nimport { ProgressBarService } from 'src/app/user/services/progress-bar.service';\r\nimport { CookieService } from 'ngx-cookie-service';\r\n@Component({\r\n  selector: 'app-register-dialog',\r\n  templateUrl: './register-dialog.component.html',\r\n  styleUrls: ['./register-dialog.component.scss'],\r\n})\r\nexport class RegisterDialogComponent {\r\n  registerFormGroup!: FormGroup;\r\n  constructor(\r\n    public dialogRef: MatDialogRef<RegisterDialogComponent>,\r\n    private fb: FormBuilder,\r\n    private authService: AuthService,\r\n    private router: Router,\r\n    public progressBarService: ProgressBarService,\r\n    private cookieService: CookieService\r\n  ) {\r\n    this.registerFormGroup = fb.group({\r\n      firstName: ['', [Validators.required]],\r\n      lastName: ['', Validators.required],\r\n      email: [\r\n        '',\r\n        [Validators.required, Validators.minLength(6), Validators.email],\r\n      ],\r\n      password: ['', [Validators.required, Validators.minLength(6)]],\r\n      dateOfBirth: ['', Validators.required],\r\n      gender: ['', Validators.required],\r\n    });\r\n    this.registerFormGroup.valueChanges.subscribe((v) => console.log(v));\r\n  }\r\n  onClickRegister() {\r\n    this.progressBarService.progressBarBSub.next(true);\r\n    let registerRequest: RegisterRequest = this.registerFormGroup.value;\r\n    registerRequest.username = this.registerFormGroup.value.email;\r\n    this.authService.register(registerRequest).subscribe(\r\n      (response) => {\r\n        console.log(response);\r\n        \r\n        this.progressBarService.progressBarBSub.next(false);\r\n        if (response.status === 200) {\r\n          this.dialogRef.close();\r\n          this.router.navigate(['/confirmemail'], {\r\n            queryParams: {\r\n              sPath: 'user-login',\r\n            }\r\n          });\r\n          this.cookieService.set(\"c-user\", response.data)\r\n        } else if (response.status === 409) {\r\n          console.log(response);\r\n        }\r\n      },\r\n      (error) => {\r\n        this.progressBarService.progressBarBSub.next(false);\r\n      }\r\n    );\r\n  }\r\n}\r\n","<div class=\"row no-gutters justify-content-between\">\n    <h1 mat-dialog-title>Đăng kí</h1>\n    <i class=\"fa-solid fa-xmark\"></i>\n</div>\n<div mat-dialog-content>\n    <form [formGroup]=\"registerFormGroup\">\n        <div class=\"row\">\n            <div class=\"col l-6\">\n                <mat-form-field class=\"full-width\" appearance=\"fill\">\n                    <mat-label>Họ</mat-label>\n                    <input matInput placeholder=\"Ex. Huynh\" formControlName=\"firstName\" required>\n                    <mat-error *ngIf=\"registerFormGroup.hasError('required', ['firstName'])\">\n                        Không thể bỏ trống\n                    </mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"col l-6\">\n                <mat-form-field class=\"full-width\" appearance=\"fill\">\n                    <mat-label>Tên</mat-label>\n                    <input matInput placeholder=\"Ex. Gia Huy\" formControlName=\"lastName\" required>\n                    <mat-error *ngIf=\"registerFormGroup.hasError('required', ['lastName'])\">\n                        Không thể bỏ trống\n                    </mat-error>\n                </mat-form-field>\n            </div>\n        </div>\n        <div class=\"row\">\n            <div class=\"col l-12\">\n                <mat-form-field class=\"full-width\" appearance=\"fill\">\n                    <mat-label>Email</mat-label>\n                    <input type=\"email\" matInput placeholder=\"huynhgiahuy492@gmail.com\" formControlName=\"email\" required>\n                    <mat-error *ngIf=\"registerFormGroup.hasError('required', ['email'])\">\n                        Không thể bỏ trống\n                    </mat-error>\n                    <mat-error *ngIf=\"registerFormGroup.hasError('email', ['email'])\">\n                        Tài khoản không hợp lệ. Ví dụ: nguyenvana@gmail.com\n                    </mat-error>\n                    <mat-error *ngIf=\"registerFormGroup.hasError('minLength', ['email'])\">\n                        Tài khoản phải tối thiếu 6 kí tự\n                    </mat-error>\n                </mat-form-field>\n            </div>\n        </div>\n        <div class=\"row\">\n            <div class=\"col l-12\">\n                <mat-form-field class=\"full-width\" appearance=\"fill\">\n                    <mat-label>Mật khẩu mới</mat-label>\n                    <input type=\"password\" matInput formControlName=\"password\">\n                    <mat-error *ngIf=\"registerFormGroup.hasError('required', ['password'])\">\n                        Không thể bỏ trống\n                    </mat-error>\n                    <mat-error *ngIf=\"registerFormGroup.hasError('minlength', ['password'])\">\n                        Mật khẩu phải tối thiếu 6 kí tự\n                    </mat-error>\n                </mat-form-field>\n            </div>\n        </div>\n        <div class=\"row\">\n            <div class=\"col l-12\">\n                <mat-form-field appearance=\"fill\" class=\"full-width\">\n                    <mat-label>Chọn ngày sinh</mat-label>\n                    <input matInput [matDatepicker]=\"datepicker\" formControlName=\"dateOfBirth\">\n                    <mat-hint>MM/DD/YYYY</mat-hint>\n                    <mat-datepicker-toggle matSuffix [for]=\"datepicker\"></mat-datepicker-toggle>\n                    <mat-datepicker #datepicker>\n                        <mat-datepicker-actions>\n                            <button mat-button matDatepickerCancel>Cancel</button>\n                            <button mat-raised-button color=\"primary\" matDatepickerApply>Apply</button>\n                        </mat-datepicker-actions>\n                    </mat-datepicker>\n                    <mat-error *ngIf=\"registerFormGroup.hasError('required', ['dateOfBirth'])\">\n                        Không thể bỏ trống\n                    </mat-error>\n              \n                </mat-form-field>\n            </div>\n        </div>\n        <mat-radio-group class=\"sex standard__list\" formControlName=\"gender\">\n            <div class=\"standard__item flex-fit col sex-wrap d-flex align-items-center justify-content-between\">\n                <mat-radio-button value=\"MALE\">\n                    Nam\n                </mat-radio-button>\n            </div>\n            <div class=\"standard__item flex-fit col sex-wrap d-flex align-items-center justify-content-between\" style=\"margin: 0 auto;\">\n                <mat-radio-button value=\"FEMALE\">\n                    Nữ\n                </mat-radio-button>\n            </div>\n            <div class=\"standard__item flex-fit col sex-wrap d-flex align-items-center justify-content-between\">\n                <mat-radio-button value=\"UNDEFINED\">\n                    Không xác định\n                </mat-radio-button>\n            </div>\n        </mat-radio-group>\n        <div class=\"row no-gutters\">\n            <div class=\"col l-12\">\n                <span style=\"font-size: 1.2rem;\">\n                    Những người sử dụng dịch vụ của chúng tôi có thể đã tải thông tin liên hệ của bạn lên Travel. <span style=\"color: var(--primary-color--)\">Tìm\n                        hiểu thêm.</span><br>\n                    Bằng cách nhấp vào Đăng ký, bạn đồng ý với Điều khoản, Chính sách Dữ liệu và Chính sách Cookie của\n                    chúng tôi. Bạn có thể nhận được thông báo SMS từ chúng tôi và có thể chọn không tham gia bất kỳ lúc\n                    nào.\n                </span>\n            </div>\n        </div>\n    </form>\n</div>\n<div mat-dialog-actions class=\"row no-gutters justify-content-center align-item-center\">\n    <button #registerBtnRef mat-button class=\"register-btn col l-6 l-o-3\" [disabled]=\"registerFormGroup.invalid\" (click)=\"onClickRegister()\">Đăng kí</button>\n    <mat-progress-bar *ngIf=\"progressBarService.progressBar$ | async\" mode=\"indeterminate\"></mat-progress-bar>\n</div>"]},"metadata":{},"sourceType":"module"}